# 循环对象日志说明

|组件|日志内容|描述|
|:---|:---|:---|
|webserver|||
||[DOWNLOAD] describe: download by DB Failed, errInfo: xxx|下载时查询数据库失败，检查数据库|
||[KAFKA] describe: Delivery messageInfo Failed, errInfo: xxx index: -1|上传事件时发送数据到kafka失败，检查kafka|
||[KAFKA] describe: Delivery messageInfo Failed, errInfo: xxx index: xxx|上传事件时发送数据到kafka失败，检查kafka|
||[UPLOAD_EVENT] describe: sendMessage err, errInfo: xxx , RequestID: xxx|上传事件时发送数据到kafka失败，检查kafka|
||[UPLOAD_EVENT] describe: UpdateObjectInfo Failed, errInfo: xxx|上传事件时操作数据库失败，检查数据库是否有问题|
||[UPLOAD_EVENT] describe: UpdateFileInfoFS Failed, errInfo: xxx|上传事件时操作数据库失败，检查数据库是否有问题|
||[UPLOAD_EVENT] describe: upload2 dbmanager.InsertLoopInfo Failed, errInfo: xxx|上传事件时操作数据库失败，检查数据库是否有问题|
||[UPLOAD] describe: dbmanager.InsertLoopInfo Failed, errInfo: xxx|上传时操作数据库失败，检查数据库是否有问题|
||[UPLOAD_EVENT] describe: Not Enough space. Remain Space(xxx)|前端空间不足，拒绝上传事件服务，返回错误|
||[UPLOAD] describe: Not Enough space. Remain Space(xxx)|前端空间不足，拒绝上传服务，返回错误|
||[QUERY] describe: listbysort dbmanager.GetLoopInfosGtOID Failed, errInfo: xxx|查询数据库失败，检查数据库|
||[QUERY] describe: dbmanager.FindLoopInfoCIDs failed(session nil) for StatusInternalServerError|查询数据库失败，检查数据库|
||[QUERY] describe: dbmanager.FindLoopInfoCIDs failed(iter nil) for StatusInternalServerError|查询数据库失败，检查数据库|
||[QUERY] describe: dbmanager.FindLoopInfoCIDs failed(err iter), errInfo: xxx|查询数据库失败，检查数据库|
|codisktracker|||
||[INIT] describe: pthread_create threadSendProc Sucess|磁盘调度启动成功|
||[UINIT] describe: ExitSendThread Sucess|磁盘调度退出成功|
||[GetDiskGroup] describe: getGroupId Failed, peerid: xxx|获取磁盘组失败|
||[GetDiskGroup] describe: create new group Sucess, peerid: xxx, diskGroup: xxx|创建新磁盘组成功|
||[GetGroupid] describe: STATUS_CHANGE in reserve, diskGroup: 0, did: xxx, disc_seq: xxx, discStatus: ONLINE|0#组磁盘上线|
||[GetGroupid] describe: STATUS_CHANGE in group, diskGroup: xxx, did: xxx, disc_seq: xxx, discStatus: ONLINE|非0#组磁盘上线|
||[UpdateGroupdisk] describe: STATUS_CHANGE, diskGroup: xxx, did: xxx, disc_seq: xxx, discStatus: OFFLINE|磁盘掉线|
||[UpdateGroupdisk] describe: ReplaceDisk Failed, diskGroup: xxx, did: xxx|磁盘组换盘失败|
||[UpdateGroupdisk] describe: ReplaceDisk Sucess, diskGroup: xxx, reason: xx, old_disk: xxx, new_disk: xxx|磁盘组换盘成功|
|costorage|||
||[Child_Manager] main_Pid: xxx, status: start managerChildren sucess|有磁盘程序启动|
||[Stack] describe: exit and restart now, child_process: xxx, signo: xxx|磁盘子进程重启|
||[Stack] describe: exit and not restart, child_process: xxx|磁盘子进程异常退出，不重启|
||[LEVELDB] describe: leveldb_write Failed, errInfo: xxx|Leveldb数据库写异常|
||[LEVELDB] describe: leveldb_put Failed, errInfo: xxx|Leveldb数据库写异常|
||[Child_Manager] describe: diskRecycleHandle Failed, disk:xxx, errInfo: db error need exit|磁盘循环写时，删除数据失败|
||[UPLOAD] describe: FlushSegementData Failed, disk: xxx|写磁盘失败|
||[UPLOAD] describe: FlushSegementData Failed, disk: xxx, tmp_offset: xxx|写磁盘失败|
|codproducer|||
||[codproducermain] describe: GetConfigByYamlFileResult Failed, errInfo: xxx|启动失败，检查配置文件|
||[codproducermain] describe: loadMongoUrlResult Failed|启动失败，检查数据库配置|
||[codproducermain] describe: InitDBManagerResult Failed, errInfo: xxx|启动失败，检查数据库|
||[codproducermain] describe: listen rpc failed, errInfo: xxx|启动失败，检查RPC配置|
||[GetInfo] describe: dataEncode failed, errInfo: xxx|调用RPC获取数据的接口时数据编码失败|
||[GetDBThread] describe: dbmanager.ApplyLoopInfoV3 failed, errInfo: xxx|从数据库获取数据失败|
||[UpdateDB] describe: dbmanager.UpdateLoopInfosV2 failed(<500), errInfo: xxx|更新数据库失败，检查数据库|
||[UpdateDB] describe: dbmanager.UpdateLoopInfosV2 failed(500), errInfo: xxx|更新数据库失败，检查数据库|
||[GetDBThread] describe: len(chanLoopInfos) >= 230 sleep 5 seconds|生产的数据没有迁移完，积压过多，检查网络或者增加磁盘组|
|codipatcher|||
||[SendHeartBeat] describe: send heart failed, errInfo:xxx, writeActal:xxx, writeExcept:xxx|向磁盘发送心跳失败|
||[LargeDataEncodeThread] describe: diskCount invalid, currentDiskCount:xxx, minDiskCount:xxx|大文件网络编码时，当前的磁盘个数太少，小于最低允许的磁盘个数|
||[DataEncodeThread] describe: diskCount invalid, currentDiskCount:xxx, minDiskCount:xxx|小文件网络编码时，当前的磁盘个数太少，小于最低允许的磁盘个数|
||[LargeDataEncodeThread] describe: large file dataEncode error, objectID:xxx, fileLocation:xxx, filesize:xxx|大文件进行网络编码失败|
||[DataEncodeThread] describe: file dataEncode error, objectID:xxx, fileLocation:xxx, filesize:xxx|小文件进行网络编码失败|
||[SendDataThread] describe: port is 0 wait a moment, index:xxx, queueSize:xxx|当前磁盘的端口为0，表明磁盘不在线，有可能是崩溃、下线或者其他异常|
||[SendDataThread] describe: net.Dial Failed, errInfo:xxx, ip:xxx, port:xxx, queueSize:xxx|连接磁盘失败|
||[GetResultFromChanV2] describe: get result failed, objectID:xxx, sucessCount:xxx|对象迁移后，从磁盘返回结果的成功个数小于允许的最小值|
||[SendLargeDataThread] describe: write shake failed, errInfo:xxx, writeActal:xxx, writeExcept:xxx, index:xxx|大文件迁移失败，和磁盘握手失败|
||[SendLargeDataThread] describe: write data failed, errInfo:xxx, writeActal:xxx, writeExcept:xxx, index:xxx|大文件迁移失败，向磁盘发送数据失败|
||[SendLargeDataThread] describe: recv respond failed, errInfo:xxx, readActal:xxx, readExcept:xxx, index:xxx|大文件迁移失败，从磁盘读取发送结果失败|
||[SendDataThread] describe: write shake failed, errInfo:xxx, writeActal:xxx, writeExcept:xxx, index:xxx|小文件迁移失败，和磁盘握手失败|
||[SendDataThread] describe: write data failed, errInfo:xxx, writeActal:xxx, writeExcept:xxx, index:xxx|小文件迁移失败，向磁盘发送数据失败|
||[SendDataThread] describe: recv respond failed, errInfo:xxx, readActal:xxx, readExcept:xxx, index:xxx|小文件迁移失败，从磁盘读取发送结果失败|
||[LargeDataEncodeThread] describe: open path failed, path:xxx, objectID:xxx|大文件编码，打开文件失败|
||[LargeDataEncodeThread] describe: read data failed, path:xxx, objectID:xxx|大文件编码，读取失败|
||[LargeDataEncodeThread] describe: read size is wrong, path:xxx, objectID:xxx, ReadedSize:xxx, expectSize:xxx|大文件编码，读到的文件长度与数据库记录的不一致|
||[LargeDataEncodeThread] describe: data encode failed reEncode again, objectID:xxx, size:xxx|大文件网络编码失败，重新编码|
||[LargeDataEncodeThread] describe: data reEncode success, objectID:xxx, size:xxx, encodeFailedCount:xxx|大文件重新进行网络编码成功|
||[DataEncodeThread] describe: open path failed, path:xxx, objectID:xxx|小文件编码，打开文件失败|
||[DataEncodeThread] describe: read data failed, path:xxx, objectID:xxx|小文件编码，读取失败|
||[DataEncodeThread] describe: read size is wrong, path:xxx, objectID:xxx, ReadedSize:xxx, expectSize:xxx|小文件编码，读到的文件长度与数据库记录的不一致|
||[DataEncodeThread] describe: data encode failed reEncode again, objectID:xxx, size:xxx|小文件编码，读到的文件长度与数据库记录的不一致|
||[DataEncodeThread] describe: data reEncode success, objectID:xxx, size:xxx, encodeFailedCount:xxx|小文件网络编码失败，重新编码|
|healthchecker|||
||[HealthCheckerMain] describe: GetConfigByYamlFileResult Failed, errInfo: xxx|启动失败，检查配置文件|
||[HealthCheckerMain] describe: loadMongoUrlResult Failed|启动失败，检查数据库配置|
||[HealthCheckerMain] describe: loadTrackMongoURLResult Failed|启动失败，检查数据库配置|
||[HealthCheckerMain] describe: InitDBManagerResult:Failed, errInfo: xxx|启动失败，检查adfs数据库|
||[HealthCheckerMain] describe: InitTrackMongo:Failed, errInfo: xxx|启动失败，检查topvdn数据库|
||[HealthCheckerMain] describe: listen rpc failed, errInfo: xxx|启动失败，检查RPC端口|
||[GetLoopInfo] describe: dataEncode failed, errInfo: xxx|调用RPC获取数据的接口时数据编码失败|
||[isDidsHealth] describe: dbmanager.GetDiskBegintimeByTrack Failed, errInfo: xxx, did: xxx|获取磁盘的开始写入时间失败|
||[getDBThread] describe: dbmanager.ApplyLoopInfoByCleaner failed, curOID: xxx, errInfo: xxx|从数据库获取数据失败|
||[updateDBThread] describe: dbmanager.SetLoopInfoCleanStatus failed, errInfo: xxx|更新数据库失败，检查数据库|
||[updateDBThread] describe: updateDBThread too slow for len(chanDBLoopInfos) > 9000|数据库更新较慢|
||[clearDiskInfo] describe: dbmanager.ApplyLoopInfoByDisk failed, expireType: xxx, errInfo: xxx|从数据库获取数据失败|
||[ClearDiskInfo] describe: deleteDiskInfo dbmanager.DeleteLoopInfo Failed, ObjectID: xxx, errInfo:xxx|删除数据库元数据失败|
||[ClearExpireFile] describe: dbmanager.ApplyLoopInfoByExpire failed, expireType: xxx, errInfo: xxx|更新数据库失败，检查数据库|
||[getDBThread] describe: len(gLoopInfoChan[i].chanLoopInfos) >= 80 sleep 1 seconds, len(gLoopInfoChan[i].chanLoopInfos): xxx|生产的待删除的数据没有及时删除干净，队列积压|
||[getDBThread] describe: len(gLoopInfoChan[i].chanLoopInfos) >= 100, len(gLoopInfoChan[i].chanLoopInfos): xxx|生产的待删除的数据没有及时删除干净，队列积压|
|filedelete|||
||[FileDeleteMain] describe: GetConfigByYamlFileResult Failed, errInfo: xxx|启动失败，检查配置文件|
||[FileDeleteMain] describe: loopDispatcher.StartLoopDispatcher failed, errInfo: xxx|启动失败，检查RPC服务器是否已经启动|
||[reconnectRPC] describe: connectRPCServer failed, errInfo: xxx|连接RPC服务器失败|
||[getServerData] describe: rpcClient.Call failed, errInfo: xxx|从RPC服务端获取数据失败，检查网络或者服务端|
||[sendServerUpdate] describe: rpcClient.Call failed, errInfo: xxx|将删除后的数据元数据提交到服务器失败|
||